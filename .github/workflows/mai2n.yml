name: GPU SSH Access (4 Hours)

on:
  workflow_dispatch:

jobs:
  ssh-access:
    # Note: Standard 'ubuntu-latest' does not have a GPU. 
    # Use your specific GPU runner label here.
    runs-on: ubuntu-latest 
    timeout-minutes: 250 

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Install sshx
        run: curl -sSf https://sshx.io/get | sh

      - name: Start sshx Session
        run: |
          echo "Starting SSH session..."
          # This will print the access URL to the GitHub Actions logs
          sshx & 
          
          echo "System is ready. Keeping alive for 4 hours..."
          sleep 14400
